
#
# DECstation 5000/133
#
# MIPS R3000A LE
#

CPU       := MIPS
CPU_MODEL := R3000

GCC_SWITCHES_PLATFORM     += -march=r3000 -mel -Wa,-march=r3000 -Wa,-EL
LD_SWITCHES_PLATFORM      += -EL
OBJDUMP_SWITCHES_PLATFORM += --disassembler-options=hwr-names=r3000,reg-names=r3000
POSTBUILD_ROMFILE         := Y
#OBJCOPY_SWITCHES_PLATFORM += --output-target=binary --gap-fill=0x00
OBJCOPY_SWITCHES_PLATFORM += --output-target=binary

USE_APPLICATION := test-DECstation5000.133

#NETWORK_BOOT := N
NETWORK_BOOT := Y
export NETWORK_BOOT

ifeq ($(NETWORK_BOOT),Y)
LD_SCRIPT := linker.lds-networkboot
BOOT_FROM_NETWORK := True
TFTP_DIRECTORY := /home/public
TFTP_FILENAME := 08002b32bd8f.SYS
export TFTP_DIRECTORY TFTP_FILENAME
else
LD_SCRIPT := linker.lds-ROM
BOOT_FROM_NETWORK := False
endif
export BOOT_FROM_NETWORK

MEMSIM2 := $(SWEETADA_PATH)/../hardware/memSIM2/runmemsim2.sh

SESSION_START_COMMAND :=
SESSION_END_COMMAND   :=

RUN_COMMAND   := $(MEMSIM2) -m 27020 -r -10 $(SWEETADA_PATH)/$(KERNEL_ROMFILE)
DEBUG_COMMAND :=

