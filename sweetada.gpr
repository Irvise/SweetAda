
-------------------------------------------------------------------------------
-- SweetAda GPRbuild project file
--
-- Copyright (C) 2020-2023 Gabriele Galeotti
--
-- This work is licensed under the terms of the MIT License.
-- Please consult the LICENSE.txt file located in the top-level directory.
-------------------------------------------------------------------------------

with "configure";
with "basedefs";

project SweetAda is

   ----------------------------------------------------------------------------
   -- Definitions
   ----------------------------------------------------------------------------

   for Target use Configure.Toolchain_Name;
   for Source_Dirs use Configure.Include_Directories;
   for Object_Dir use project'Project_Dir & "/" & Configure.Object_Directory;
   for Default_Language use "Ada";
   for Main use ("main.adb");

   ----------------------------------------------------------------------------
   -- Naming
   ----------------------------------------------------------------------------

   package Naming renames Basedefs.Naming;

   ----------------------------------------------------------------------------
   -- Builder
   ----------------------------------------------------------------------------

   package Builder renames Basedefs.Builder;

   ----------------------------------------------------------------------------
   -- Compiler
   ----------------------------------------------------------------------------

   package Compiler renames Basedefs.Compiler;

   ----------------------------------------------------------------------------
   -- Binder
   ----------------------------------------------------------------------------

   Binder_Switches := ();

   package Binder is
      for Required_Switches ("Ada") use ("--RTS=" & Configure.RTS_Path);
      for Switches ("Ada") use (
                                "-nostdinc",
                                "-nostdlib",
                                "-F",
                                "-e",
                                "-l",
                                "-n",
                                "-s",
                                "-A=gnatbind_alis.lst",
                                "-O=gnatbind_objs.lst"
                               ) &
                               Binder_Switches &
                               Configure.Implicit_ALI_Units;
   end Binder;

   ----------------------------------------------------------------------------
   -- Linker (not used)
   ----------------------------------------------------------------------------

   package Linker is
   end Linker;

   ----------------------------------------------------------------------------
   -- Gnatls (not used)
   ----------------------------------------------------------------------------

   package Gnatls is
   end Gnatls;

   ----------------------------------------------------------------------------
   -- Clean (not used)
   ----------------------------------------------------------------------------

   package Clean is
   end Clean;

   ----------------------------------------------------------------------------
   -- Ide (not used)
   ----------------------------------------------------------------------------

   package Ide is
   end Ide;

end SweetAda;
