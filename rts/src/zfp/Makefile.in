
#
# Basic units.
#

LIBGNAT_SRCS_COMMON += a-charac.ads
LIBGNAT_SRCS_COMMON += a-chlat1.ads
LIBGNAT_SRCS_COMMON += a-unccon.ads
LIBGNAT_SRCS_COMMON += a-uncdea.ads
LIBGNAT_SRCS_COMMON += ada.ads
LIBGNAT_SRCS_COMMON += i-c.ads
LIBGNAT_SRCS_COMMON += i-cexten.ads
LIBGNAT_SRCS_COMMON += interfac.ads
LIBGNAT_SRCS_COMMON += s-atacco.ads s-atacco.adb
LIBGNAT_SRCS_COMMON += s-maccod.ads
LIBGNAT_SRCS_COMMON += s-stoele.ads s-stoele.adb
LIBGNAT_SRCS_COMMON += s-unstyp.ads

#
# system.ads default configuration.
#
export COMMAND_LINE_ARGS         := False
export CONFIGURABLE_RUN_TIME     := True
export SUPPRESS_STANDARD_LIBRARY := True
export EXIT_STATUS_SUPPORTED     := False
export USE_ADA_MAIN_PROGRAM_NAME := False
export ZCX_BY_DEFAULT            := False

#
# Makefile rules.
#

configure-rts :
ifeq      ($(OSTYPE),cmd)
	@FOR %%F IN ($(LIBGNAT_SRCS_COMMON)) DO                                        \
          @ECHO OFF &&                                                                 \
          IF EXIST $(RTS_SOURCE_PATH_CMD)\%%F.in (                                     \
            (                                                                          \
             $(PROCESSCFG) $(RTS_SOURCE_PATH_CMD)\%%F.in $(ADAINCLUDE_PATH_CMD)\%%F && \
             $(DOS2UNIX) $(ADAINCLUDE_PATH_CMD)\%%F $(ADAINCLUDE_PATH_CMD)\%%F         \
            ) || EXIT /B 1                                                             \
          ) ELSE (                                                                     \
            $(CP) "$(RTS_SOURCE_PATH_CMD)"\%%F "$(ADAINCLUDE_PATH_CMD)"\               \
            || EXIT /B 1                                                               \
          )
else ifeq ($(OSTYPE),msys)
	@for f in $(LIBGNAT_SRCS_COMMON) ; do                                 \
          (                                                                   \
           if [ -e $(RTS_SOURCE_PATH)/$$f.in ] ; then                         \
             $(PROCESSCFG) $(RTS_SOURCE_PATH)/$$f.in $(ADAINCLUDE_PATH)/$$f ; \
             $(DOS2UNIX) $(ADAINCLUDE_PATH)/$$f $(ADAINCLUDE_PATH)/$$f ;      \
           else                                                               \
             $(CP) "$(RTS_SOURCE_PATH)"/$$f "$(ADAINCLUDE_PATH)"/ ;           \
           fi                                                                 \
          ) || exit $$? ;                                                     \
        done
else
	@for f in $(LIBGNAT_SRCS_COMMON) ; do                                 \
          (                                                                   \
           if [ -e $(RTS_SOURCE_PATH)/$$f.in ] ; then                         \
             $(PROCESSCFG) $(RTS_SOURCE_PATH)/$$f.in $(ADAINCLUDE_PATH)/$$f ; \
           else                                                               \
             $(CP) "$(RTS_SOURCE_PATH)"/$$f "$(ADAINCLUDE_PATH)"/ ;           \
           fi                                                                 \
          ) || exit $$? ;                                                     \
        done
endif

